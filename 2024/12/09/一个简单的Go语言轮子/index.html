<!DOCTYPE html>
<html lang="zh">
  <head>
    <!-- base -->
<meta charset="UTF-8" />
<meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="template" content="Old-Fasion-Theme" />

<!-- sitemap -->
<link
    rel="sitemap"
    type="application/xml"
    title="sitemap"
    href="/sitemap.xml" />

<!-- title -->
<title>
    一个简单的Go语言轮子 | Runoneall
</title>

<!-- css dependencies -->

<link rel="stylesheet" href="/css/normalize.css">
<link rel="stylesheet" href="/css/grid.css">
<link rel="stylesheet" href="/css/highlight.css">
<link rel="stylesheet" href="/css/global.css">
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/sidebar.css">
<link rel="stylesheet" href="/css/post.css">
<link rel="stylesheet" href="/css/misc.css">
<link rel="stylesheet" href="/css/page.css">
<link rel="stylesheet" href="/css/footer.css">
<link rel="stylesheet" href="/css/dark.css" id="dark-style" disabled>


<!-- favicon -->
<link rel="shortcut icon" href="https://dev.oneall.eu.org/favicon.webp">

<!-- extra css -->


<!-- keywords -->

<meta name="keywords" content="Hexo,Blog,Runoneall" />

<!-- description -->

<meta name="description" content="此为我自己在写项目时用到的轮子，整理了一下地址：https://github.com/runoneall/goutil实现：命令行参数，配置文件，日期，数据库，网络请求等相关功能，简化开发 command.go Command_Args() 返回类型 map[string]string 参数字典 Command_GetArg(arg string) 返回类型 string 参数 arg 的值，如果" />

<!-- rss -->
<link rel="alternate" href="/rss2.xml" title="RSS 2.0" type="application/application/rss+xml+xml">
<link rel="alternate" href="/atom.xml" title="ATOM 1.0" type="application/application/atom+xml+xml">
  <meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="Runoneall" type="application/atom+xml">
<link rel="alternate" href="/rss2.xml" title="Runoneall" type="application/rss+xml">
</head>

  <body>
    <div id="outbox">
      <!-- header -->
      <div id="header" class="clearfix">
        <div class="container">
          <div class="row">
            <div class="site-name">
              <a id="logo" href="/">Runoneall</a>
              <p id="description_random_intro" class="description">
                Runoneall's Blog
              </p>
              <script>
                var description_random_intro = document.getElementById(
                  "description_random_intro"
                );
                var descriptions = JSON.parse(
                  `["路漫漫其修远兮，吾将上下而求索","天将降大任于是人也，必先苦其心志，劳其筋骨，饿其体肤，空乏其身，行拂乱其所为","惜秦皇汉武，略输文采；唐宗宋祖，稍逊风骚。俱往矣，数风流人物，还看今朝。"]`
                );
                var random_intro =
                  descriptions[Math.floor(Math.random() * descriptions.length)];
                description_random_intro.innerHTML = random_intro;
              </script>
            </div>
          </div>
        </div>
      </div>
      <!-- end header -->

      <!-- sidebar button -->
      <button id="side-btn" onclick="changeSideStatus()">
        <input id="side-flag" type="checkbox" />
        <label id="side-control" for="side-flag">≡</label>
      </button>

      <!-- left area -->
      <div id="left">
        <!-- left links -->
        <div id="left-links">
          <!-- page links -->
          <a
            class=""
            href="/"
            >首页</a
          >
          
          <br />
          <a
            class=""
            href="/links/index.html"
            >链接</a
          >
          
          <br />
          <a
            class=""
            href="/about/index.html"
            >关于</a
          >
          
          <!-- end page links -->

          <!-- sidebar extra html -->
          
          <br />
          <a href="/rss2.xml">RSS</a><br>
<a href="mailto:dev@oneall.eu.org">Email</a><br> 
          <!-- end sidebar extra html -->

          <br /><button id="dark-btn" onclick="changeDarkMode()">
            更换主题
          </button>
        </div>
        <hr />
        <!-- end left links -->

        <!-- search -->
        <form id="search" method="get" action="#" role="search">
          <input
            type="text"
            id="s"
            name="s"
            class="text"
            placeholder="输入关键字搜索"
          />
          <button type="submit" class="submit">
            <img
              src="/img/icon-search.png"
              alt="icon-search"
            />
          </button>
        </form>
        <!-- end search -->
      </div>
      <!-- end left area -->

      <!-- right area -->
      <div id="right">
        <div class="row"><div class="col-mb-12 col-8" id="main" role="main">

    <!-- article body -->
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

        <!-- post title -->
        <h1 class="post-title" itemprop="name headline">
            <a itemprop="url" href="/2024/12/09/%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84Go%E8%AF%AD%E8%A8%80%E8%BD%AE%E5%AD%90/">一个简单的Go语言轮子</a>
        </h1>
        <!-- end post title -->

        <!-- post meta -->
        <ul class="post-meta">
            <li itemprop="author" itemscope itemtype="http://schema.org/Person">
                作者: <a itemprop="name" href="#" rel="author">Tom Brown</a>
            </li>
            <li>时间:
                <time itemprop="datePublished"
                    datetime="2024-12-09T12:43:00.000Z">2024-12-09</time>
            </li>
            
            <li>分类:
                
                <a href="/categories/%E9%BB%98%E8%AE%A4/">
                    默认
                </a>&nbsp;
                
            </li>
            
        </ul>
        <!-- end post meta -->

        <!-- post content -->
        <div class="post-content" itemprop="articleBody">
            <p>此为我自己在写项目时用到的轮子，整理了一下<br>地址：<a target="_blank" rel="noopener" href="https://github.com/runoneall/goutil">https://github.com/runoneall/goutil</a><br>实现：命令行参数，配置文件，日期，数据库，网络请求等相关功能，简化开发</p>
<h2 id="command-go"><a href="#command-go" class="headerlink" title="command.go"></a>command.go</h2><ul>
<li><code>Command_Args()</code> 返回类型 <code>map[string]string</code> 参数字典</li>
<li><code>Command_GetArg(arg string)</code> 返回类型 <code>string</code> 参数 <code>arg</code> 的值，如果不存在返回空字符串</li>
</ul>
<h2 id="config-go"><a href="#config-go" class="headerlink" title="config.go"></a>config.go</h2><ul>
<li><code>Config_Read_File(filepath string)</code> 返回类型 <code>map[string]interface&#123;&#125;</code> 从文件中获取配置，返回配置字典</li>
<li><code>Config_Write_File(filepath string, configMap map[string]interface&#123;&#125;)</code> 无返回 将配置字典写入文件</li>
<li><code>Config_Format(content string, targetFormat string)</code> 返回类型 <code>map[string]interface&#123;&#125;</code> 从字符串中解析配置，需指定配置类型 <code>targetFormat</code>，返回配置字典</li>
</ul>
<h2 id="date-go"><a href="#date-go" class="headerlink" title="date.go"></a>date.go</h2><ul>
<li><code>Date_Format(formatQuery string, useLong bool, useAlias bool)</code> 返回类型 <code>string</code> 解析日期字符串 <code>formatQuery</code>; 使用 <code>&#123;&#123;year&#125;&#125;</code> 作为年, <code>&#123;&#123;month&#125;&#125;</code> 作为月, <code>&#123;&#123;day&#125;&#125;</code> 作为日, <code>&#123;&#123;hour&#125;&#125;</code> 作为时, <code>&#123;&#123;minute&#125;&#125;</code> 作为分, <code>&#123;&#123;second&#125;&#125;</code> 作为秒, <code>&#123;&#123;week&#125;&#125;</code> 作为星期; 设置 <code>useLong</code> 为 <code>true</code> 自动补零, 设置 <code>useAlias</code> 为 <code>true</code> 使用月和星期的英文名</li>
</ul>
<h2 id="mysql-go"><a href="#mysql-go" class="headerlink" title="mysql.go"></a>mysql.go</h2><ul>
<li><code>Mysql_MakeDSN(host string, port int, user string, password string, dbname string)</code> 返回类型 <code>string</code> 制作 DSN 字符串</li>
<li><code>Mysql_Connect(dsn string)</code> 返回类型 <code>*sql.DB</code> 使用 DSN 连接数据库，返回数据库连接对象</li>
<li><code>Mysql_Exec(db *sql.DB, sql string)</code> 返回类型 <code>sql.Result</code> 运行 SQL 语句，返回结果对象</li>
<li><code>Mysql_Query(db *sql.DB, sql string)</code> 返回类型 <code>[]map[string]interface&#123;&#125;</code> 使用 SQL 语句查询数据库，返回结果字典</li>
<li><code>Mysql_Close(db *sql.DB)</code> 无返回 关闭数据库连接</li>
</ul>
<h2 id="network-go"><a href="#network-go" class="headerlink" title="network.go"></a>network.go</h2><ul>
<li><code>Network_Get(url string, headers ...map[string]string)</code> 返回类型 <code>*http.Response</code> 发送 GET 请求到 <code>url</code>，可选请求头 <code>headers</code></li>
<li><code>Network_Post(url string, data any, dataType string, headers ...map[string]string)</code> 返回类型 <code>*http.Response</code> 发送 POST 请求到 <code>url</code>， <code>data</code> 为 请求体， <code>dataType</code> 为请求体类型, 可选请求头 <code>headers</code>; 当 <code>dataType</code> 为 <code>text</code> data 必须为 <code>string</code>, 当 <code>dataType</code> 为 <code>binary</code> data 必须为 <code>[]byte</code>, 当 <code>dataType</code> 为 <code>json</code> data 必须为 <code>map[string]interface&#123;&#125;</code>, 当 <code>dataType</code> 为 <code>form-kv</code> data 必须为 <code>map[string]string</code>, 当 <code>dataType</code> 为 <code>form-file</code> data 必须为 <code>map[string]string</code> 格式 <code>键名:文件路径</code></li>
</ul>
<h2 id="gobr-script"><a href="#gobr-script" class="headerlink" title="gobr script"></a>gobr script</h2><ul>
<li>自己的一个简单的shell脚本，自动编译go文件并运行，支持参数传递</li>
<li>使用: <code>gobr &lt;build name&gt; [sub args]</code></li>
<li><code>&lt;build name&gt;</code> 为要编译的go文件名，不包含后缀 <code>.go</code></li>
<li><code>[sub args]</code> 为传递给go文件的参数</li>
</ul>

        </div>
        <!-- end post content -->

    </article>
    <!-- end article body -->

</div></div>
      </div>
      <!-- end right area -->

      <!-- footer -->
      <div id="footer" role="contentinfo">
        &copy; 2025
        <a href="/">Runoneall</a>.
        <a target="_blank" rel="noopener" href="https://github.com/runoneall/hexo-theme-old-fashion"
          >Old Fasion</a
        >
        Theme. Powered by <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>.
      </div>
      <!-- end footer -->
    </div>
    <!-- end outbox -->

    <!-- extra html -->


<!-- extra js -->

<script>
console.log(String.raw`
            ___              __
      _____<  /____ _   ____/ /___  _   __
     / ___// // __ `+ "`" + String.raw`/  / __  // _ \| | / /
    / /   / // /_/ /  / /_/ //  __/| |/ /
   /_/   /_/ \__,_/   \__,_/ \___/ |___/

LET THE UNFAIRNESS OF THE WORLD BOW BEFORE ME
`)
</script>


<!-- js dependencies -->

<script src="/js/dark.js"></script>
<script src="/js/highlight.js"></script>
<script src="/js/sidebar.js"></script>
<script src="/js/search.js"></script>


<!-- code highlight -->
<script>
    hljs.highlightAll();
</script>
  </body>
</html>
